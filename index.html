<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Memory Vault</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body {
  margin:0;
  background:black;
  font-family:'Inter',system-ui;
}

.netflix-card {
  transition: transform .35s ease, box-shadow .35s ease;
}
.netflix-card:hover {
  transform: scale(1.18);
  z-index:30;
  box-shadow:0 30px 60px rgba(0,0,0,.85);
}

.fade-in {
  animation:fadeIn 1.2s ease forwards;
}
@keyframes fadeIn {
  from {opacity:0; transform:translateY(20px);}
  to {opacity:1; transform:none;}
}
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.08); }
    100% { transform: scale(1); }
  }
  
  .new-badge {
    animation: pulse 1.6s infinite;
  }

</style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

const PASSWORD = "lovie";

/* Intro sound */
const playIntroSound = () => {
  if (!localStorage.getItem("intro_played")) {
    const a = new Audio("netflix-intro.mp3");
    a.volume = 0.6;
    a.play().catch(()=>{});
    localStorage.setItem("intro_played","yes");
  }
};

const PlayIcon = () => (
<svg className="w-12 h-12 fill-white" viewBox="0 0 24 24">
<path d="M8 5v14l11-7z"/></svg>
);
const CloseIcon = () => (
<svg className="w-8 h-8 fill-white" viewBox="0 0 24 24">
<path d="M6 6l12 12M6 18L18 6"/></svg>
);
const VolumeIcon = ({ muted }) => muted ? (
<svg className="w-6 h-6 fill-white" viewBox="0 0 24 24">
<path d="M16 8l-8 8M8 8l8 8"/></svg>
) : (
<svg className="w-6 h-6 fill-white" viewBox="0 0 24 24">
<path d="M3 9v6h4l5 5V4L7 9H3z"/></svg>
);

/* APP */
function App() {
  const [stage,setStage] = useState(localStorage.getItem("vault_stage")||"lock");
  const [input,setInput] = useState("");

  if(stage==="lock"){
    return (
      <div className="min-h-screen flex items-center justify-center text-white">
        <div className="bg-neutral-900 p-8 rounded fade-in w-80">
          <h1 className="text-2xl font-extrabold mb-4">Memory Vault</h1>
          <input type="password" value={input} onChange={e=>setInput(e.target.value)}
            className="w-full p-2 text-black mb-4"/>
          <button onClick={()=>{
            if(input===PASSWORD){
              localStorage.setItem("vault_stage","profiles");
              setStage("profiles");
            } else alert("Wrong password");
          }} className="w-full bg-red-600 py-2 rounded">Enter</button>
        </div>
      </div>
    );
  }

  if(stage==="profiles"){
    return (
      <div className="min-h-screen flex flex-col items-center justify-center text-white fade-in">
        <h2 className="text-3xl mb-8 font-bold">Who’s watching?</h2>
        <div onClick={()=>{
          localStorage.setItem("vault_stage","vault");
          setStage("vault");
        }} className="cursor-pointer text-center">
          <div className="w-32 h-32 bg-red-600 rounded mb-4"></div>
          <p className="font-semibold">Rex</p>
        </div>
      </div>
    );
  }

  return <Vault/>;
}

/* VAULT */
function Vault(){
  const [activeVideo,setActiveVideo] = useState(null);
  const [muted,setMuted] = useState(true);
  const [secret,setSecret] = useState(false);
  const heroAudio = useRef(null);

  const HERO_VIDEO = "videos/hero.mp4";

  useEffect(()=>{
    playIntroSound();

    // keyboard easter egg: MEMORY
    let seq="";
    const handler = e=>{
      seq += e.key.toUpperCase();
      if(!"MEMORY".startsWith(seq)) seq="";
      if(seq==="MEMORY"){
        setSecret(true);
        localStorage.setItem("secret_found","yes");
      }
    };
    window.addEventListener("keydown",handler);
    return ()=>window.removeEventListener("keydown",handler);
  },[]);

  useEffect(()=>{
    // fade hero audio
    if(heroAudio.current){
      heroAudio.current.volume = activeVideo ? 0 : 0.6;
    }
  },[activeVideo]);

  const videos = [
  {
    title: "The Day We Didn’t Sleep",
    preview: "videos/memory1.mp4",
    full: "videos/memory1.mp4",
    isNew: true
  },
  {
    title: "Airport Goodbyes",
    preview: "videos/memory2.mp4",
    full: "videos/memory2.mp4",
    isNew: false
  },
  {
    title: "That One Voice Note",
    preview: "videos/memory3.mp4",
    full: "videos/memory3.mp4",
    isNew: true
  },
  {
    title: "Time Zones & Takeout",
    preview: "videos/memory1.mp4",
    full: "videos/memory1.mp4",
    isNew: false
  }
];

  return (
    <div className="text-white fade-in">
      <header className="fixed top-0 w-full z-50 px-10 py-4 flex justify-between bg-gradient-to-b from-black/80">
        <h1 className="text-red-600 font-extrabold text-2xl">DISHI + HRISHIT</h1>
        <button onClick={()=>setMuted(!muted)}><VolumeIcon muted={muted}/></button>
      </header>

      <section className={`relative h-screen flex items-end ${activeVideo?"blur-sm":""}`}
        style={{backgroundImage:"url('hero.jpeg')",backgroundSize:"cover",backgroundPosition:"center"}}>
        <div className="absolute inset-0 bg-gradient-to-t from-black via-black/70"></div>

        <div className="relative px-10 pb-32 max-w-3xl">
  <p className="uppercase tracking-widest text-sm text-gray-300 mb-2">
    TV Series
  </p>

  <h2 className="text-6xl font-extrabold mb-4 leading-tight">
    To Our Memories
  </h2>

  <div className="flex items-center gap-3 text-sm text-gray-300 mb-4">
    <span className="font-bold text-green-400">IMDb 9.6</span>
    <span>•</span>
    <span>TV-MA</span>
    <span>•</span>
    <span>2025</span>
    <span>•</span>
    <span>1 Season</span>
  </div>

  <p className="text-sm font-semibold text-gray-200 mb-6">
    #1 in TV Shows Today
  </p>

  <p className="text-lg text-gray-200 whitespace-pre-line mb-8 leading-relaxed">
Little pieces of our life, saved exactly as we lived them even when we were afar.
You can go halfway across the world, I will still find ways to get you closer.

love,
bubblegum
  </p>

  {secret && (
    <p className="italic text-gray-400 mb-6">
      You were always meant to find this.
    </p>
  )}

  <div className="flex gap-4">
    <button
      onClick={() => setActiveVideo(HERO_VIDEO)}
      className="flex items-center gap-3 bg-white text-black px-8 py-3 rounded font-bold hover:bg-gray-200 transition"
    >
      <PlayIcon /> Play
    </button>

    <button
      className="flex items-center gap-3 bg-gray-600/70 text-white px-8 py-3 rounded font-bold hover:bg-gray-600 transition"
    >
      ⓘ More Info
    </button>
  </div>
</div>

          <button onClick={()=>setActiveVideo(HERO_VIDEO)}
            className="mt-6 bg-white text-black px-8 py-3 rounded flex gap-4 font-bold">
            <PlayIcon/> Play
          </button>
        </div>
      </section>

      <section className="px-10 -mt-24 relative z-10">
        <p className="uppercase text-sm tracking-widest text-gray-400 mb-1">
          Trending on Netflix
        </p>
        
        <h3 className="text-xl font-bold mb-4">
          Season 1
        </h3>

        <div className="flex gap-4 overflow-x-auto pb-10">
          {videos.map((vid,i)=>(
            <div 
              key={i}
              className="netflix-card min-w-[220px] h-[130px] rounded relative overflow-hidden cursor-pointer"
              onMouseEnter={e=>e.currentTarget.querySelector("video")?.play()}
              onMouseLeave={e=>{
                const v=e.currentTarget.querySelector("video");
                if(v){v.pause();v.currentTime=0;}
              }}
              onClick={()=>setActiveVideo(vid.full)}>
              {vid.isNew && (
                <div className="absolute top-2 left-2 bg-red-600 text-xs font-bold px-2 py-1 rounded new-badge">
                  NEW EPISODE
                </div>
              )}

              <video src={vid.preview} 
                muted 
                loop 
                playsInline
                className="absolute inset-0 w-full h-full object-cover"
              />
              
              <div className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100">
                <PlayIcon/>
              </div>
              
              <div className="absolute bottom-2 left-2 text-sm">{vid.title}</div>
            </div>
          ))}
        </div>
      </section>
      <section className="px-10 relative z-10 mt-10">
        <h3 className="text-xl font-bold mb-4 tracking-wide">
          Because you watched “The Day We Didn’t Sleep”
        </h3>
        <div className="flex gap-4 overflow-x-auto pb-10">
          {videos.slice(1).map((vid, i) => (
      <div
        key={i}
        onClick={() => setActiveVideo(vid.full)}
        className="netflix-card min-w-[200px] h-[120px] bg-neutral-800 rounded relative cursor-pointer overflow-hidden"
      >
        <div className="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition">
          <PlayIcon />
        </div>

        <div className="absolute bottom-2 left-2 text-sm font-semibold">
          {vid.title}
        </div>
      </div>
    ))}
  </div>
</section>

      {activeVideo && (
        <div className="fixed inset-0 bg-black/95 z-50 flex items-center justify-center">
          <button className="absolute top-6 right-6" onClick={()=>setActiveVideo(null)}>
            <CloseIcon/>
          </button>
          <video src={activeVideo} controls autoPlay muted={muted}
            className="max-w-5xl max-h-[80vh] rounded"/>
        </div>
      )}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>


